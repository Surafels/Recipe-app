<p style="color: green"><%= notice %></p>

<%= render @recipe %>

<div>
  <div class="d-flex justify-content-between">
    <%= link_to "Generate shopping list", edit_recipe_path(@recipe), class: 'btn btn-primary float-end mb-5' %>
    <%= link_to "Add ingredients", new_recipe_recipe_food_path(@recipe), class: 'btn btn-primary float-end mb-5' %>
  </div>

  <h3>Ingredients</h3>
  <%= form_with(model: @recipe, local: true) do |form| %>
    <table class="table container rounded">
      <thead>
        <tr>
          <th scope="col">Food</th>
          <th scope="col">Quantity</th>
          <th scope="col">Value</th>
          <th scope="col"></th>
        </tr>
      </thead>
      <tbody>
        <% @recipe.recipe_foods.each do |recipeFood| %>
          <tr>
            <td><%= recipeFood.food.name %></td>
            <td><%= recipeFood.quantity %> </td>
            <td>$ <%= recipeFood.quantity * recipeFood.food.price %> </td>
            <td class="text-center">
              <%= button_to 'Remove', recipe_recipe_food_path(@recipe, recipeFood), method: :delete, data: { confirm: "Are you sure?", turbo_confirm: "Are you sure?" }, class: 'btn btn-danger float-start btn-sm' %>
              <%= link_to 'Modify', edit_recipe_recipe_food_path(@recipe, recipeFood), class: 'btn btn-info btn-sm' %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
    <%= form.submit "Save Ingredients", class: 'btn btn-primary' %>
  <% end %>

  <div>
    <%= link_to 'Back to Recipes', recipes_path, class: 'btn btn-secondary' %>
  </div>
</div>